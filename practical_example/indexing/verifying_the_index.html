

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Verifying the index using delve &mdash; Getting Started with Xapian 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Getting Started with Xapian 0.1 documentation" href="../../index.html" />
    <link rel="up" title="Indexing" href="index.html" />
    <link rel="next" title="Updating the database" href="updating_the_database.html" />
    <link rel="prev" title="Let’s write some code" href="writing_the_code.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="updating_the_database.html" title="Updating the database"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="writing_the_code.html" title="Let’s write some code"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Getting Started with Xapian 0.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >A practical example</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Indexing</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="verifying-the-index-using-delve">
<h1>Verifying the index using delve<a class="headerlink" href="#verifying-the-index-using-delve" title="Permalink to this headline">¶</a></h1>
<p>Xapian comes with a handy utility called <cite>delve</cite> which can be used to
inspect a database, so let&#8217;s look at the one you just built. If you just
run <tt class="docutils literal"><span class="pre">delve</span> <span class="pre">db</span></tt>, you&#8217;ll get an overview: how many documents, average term
length, and some other statistics:</p>
<div class="highlight-python"><pre>$ delve db
UUID = 1820ef0a-055b-4946-ae73-67aa4ef5c226
number of documents = 100
average document length = 100.58
document length lower bound = 33
document length upper bound = 251
highest document id ever used = 100
has positional information = true</pre>
</div>
<p>You can also look at an individual document, using Xapian&#8217;s docid (<tt class="docutils literal"><span class="pre">-d</span></tt>
means output document data as well):</p>
<div class="highlight-python"><pre>$ delve -r 1 -d db       # output has been reformatted
Data for record #1:
{
 "MEASUREMENTS": "",
 "DESCRIPTION": "Ansonia Sunwatch (pocket compas dial)",
 "PLACE_MADE": "New York county, New York state, United States",
 "id_NUMBER": "1974-100",
 "WHOLE_PART": "WHOLE",
 "TITLE": "Ansonia Sunwatch (pocket compas dial)",
 "DATE_MADE": "1922-1939",
 "COLLECTION": "SCM - Time Measurement",
 "ITEM_NAME": "Pocket horizontal sundial",
 "MATERIALS": "",
 "MAKER": "Ansonia Clock Co."
}
Term List for record #1: Q1974-100 Sansonia Scompas Sdial Spocket
Ssunwatch XDansonia XDcompass XDdial XDpocket XDsunwatch ZSansonia
ZScompas ZSdial ZSpocket ZSsunwatch ZXDansonia ZXDcompas ZXDdial
ZXDpocket ZXDsunwatch Zansonia Zcompass Zdial Zpocket Zsunwatch
ansonia compass dial pocket sunwatch</pre>
</div>
<p>You can also go the other way, starting with a term and finding both
statistics and which documents it indexes:</p>
<div class="highlight-python"><pre>$ delve -t Stime db
Posting List for term `Stime' (termfreq 4, collfreq 4, wdf_max 4):
41 56 58 65</pre>
</div>
<p>This means you can look documents up by identifier:</p>
<div class="highlight-python"><pre>$ delve -t Q1974-100 db
Posting List for term `Q1974-100' (termfreq 1, collfreq 1, wdf_max 1):
1</pre>
</div>
<p><tt class="docutils literal"><span class="pre">delve</span></tt> is frequently useful if you aren&#8217;t getting the behaviour you
expect from a search system, to check that the database contains the
documents and terms you expect.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="writing_the_code.html"
                        title="previous chapter">Let&#8217;s write some code</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="updating_the_database.html"
                        title="next chapter">Updating the database</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/practical_example/indexing/verifying_the_index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="updating_the_database.html" title="Updating the database"
             >next</a> |</li>
        <li class="right" >
          <a href="writing_the_code.html" title="Let’s write some code"
             >previous</a> |</li>
        <li><a href="../../index.html">Getting Started with Xapian 0.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >A practical example</a> &raquo;</li>
          <li><a href="index.html" >Indexing</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Olly Betts, Richard Boulton, Justin Finkelstein, James Aylett.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>